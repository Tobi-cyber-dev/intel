<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historical Archive Search System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lora:wght@400;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #2c3e50;
            --primary-light: #34495e;
            --accent-gold: #d4af37;
            --accent-red: #c0392b;
            --accent-blue: #2980b9;
            --accent-green: #27ae60;
            --text-light: #f5f5f5;
            --text-dark: #333;
            --paper-beige: #f5eedc;
            --paper-yellow: #f8f3e6;
            --old-paper: #e8dfca;
            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-dark: rgba(0, 0, 0, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f0f0f0;
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(200, 200, 200, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(150, 150, 150, 0.05) 0%, transparent 20%);
        }
        
        /* Navigation */
        .navbar {
            background-color: var(--primary-dark);
            color: var(--text-light);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px var(--shadow-dark);
            animation: slideDown 0.8s ease-out;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            text-decoration: none;
            color: var(--text-light);
            transition: transform 0.3s;
        }
        
        .logo:hover {
            transform: scale(1.05);
        }
        
        .logo i {
            margin-right: 0.8rem;
            color: var(--accent-gold);
            font-size: 2rem;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }
        
        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: all 0.3s;
            position: relative;
        }
        
        .nav-links a:hover {
            background-color: rgba(212, 175, 55, 0.2);
            color: var(--accent-gold);
        }
        
        .nav-links a.active {
            background-color: var(--accent-gold);
            color: var(--primary-dark);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            width: 0;
            height: 2px;
            background-color: var(--accent-gold);
            transition: all 0.3s;
            transform: translateX(-50%);
        }
        
        .nav-links a:hover::after {
            width: 80%;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* Main Content Container */
        .main-content {
            margin-top: 80px;
            min-height: calc(100vh - 160px);
            animation: fadeIn 1s ease-out;
        }
        
        /* Dashboard Page */
        .dashboard {
            padding: 2rem;
        }
        
        .dashboard-header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInUp 1s ease-out;
        }
        
        .dashboard-header h1 {
            font-family: 'Cinzel', serif;
            font-size: 2.5rem;
            color: var(--primary-dark);
            margin-bottom: 1rem;
        }
        
        .dashboard-header p {
            font-size: 1.2rem;
            color: var(--primary-light);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
            animation: fadeInUp 1.2s ease-out;
        }
        
        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 4px 12px var(--shadow-light);
            display: flex;
            align-items: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px var(--shadow-dark);
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1.5rem;
            font-size: 1.8rem;
            color: white;
        }
        
        .stat-info h3 {
            font-size: 2rem;
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
        }
        
        .stat-info p {
            color: var(--primary-light);
            font-size: 0.9rem;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
            animation: fadeInUp 1.4s ease-out;
        }
        
        .action-card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 12px var(--shadow-light);
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px var(--shadow-dark);
            background-color: var(--paper-yellow);
        }
        
        .action-icon {
            font-size: 3rem;
            color: var(--accent-gold);
            margin-bottom: 1rem;
        }
        
        .action-card h3 {
            font-family: 'Cinzel', serif;
            color: var(--primary-dark);
            margin-bottom: 1rem;
        }
        
        .recent-activity {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 12px var(--shadow-light);
            animation: fadeInUp 1.6s ease-out;
        }
        
        .recent-activity h2 {
            font-family: 'Cinzel', serif;
            color: var(--primary-dark);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--accent-gold);
            padding-bottom: 0.5rem;
        }
        
        .activity-list {
            list-style: none;
        }
        
        .activity-item {
            padding: 1rem;
            border-left: 3px solid var(--accent-gold);
            margin-bottom: 1rem;
            background-color: var(--paper-yellow);
            transition: all 0.3s;
        }
        
        .activity-item:hover {
            transform: translateX(5px);
            background-color: var(--paper-beige);
        }
        
        .activity-time {
            color: var(--accent-blue);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* Search Page */
        .search-page {
            display: flex;
            min-height: calc(100vh - 160px);
        }
        
        .sidebar {
            width: 300px;
            background-color: var(--primary-light);
            color: var(--text-light);
            padding: 2rem;
            overflow-y: auto;
            animation: slideInLeft 0.8s ease-out;
        }
        
        .sidebar h3 {
            font-family: 'Cinzel', serif;
            margin-bottom: 1.5rem;
            color: var(--accent-gold);
            display: flex;
            align-items: center;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            padding-bottom: 0.5rem;
        }
        
        .sidebar h3 i {
            margin-right: 0.8rem;
        }
        
        .filter-section {
            margin-bottom: 2rem;
        }
        
        .filter-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .filter-title:hover {
            color: var(--accent-gold);
        }
        
        .filter-options {
            max-height: 200px;
            overflow-y: auto;
            transition: max-height 0.5s ease;
        }
        
        .filter-options.collapsed {
            max-height: 0;
            overflow: hidden;
        }
        
        .filter-option {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            animation: fadeIn 0.5s ease-out;
        }
        
        .filter-option input {
            margin-right: 0.8rem;
        }
        
        .range-slider {
            width: 100%;
            margin-top: 1rem;
        }
        
        .range-values {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }
        
        .search-container {
            background-color: var(--paper-beige);
            padding: 2rem;
            flex: 1;
            overflow-y: auto;
            animation: fadeIn 1.2s ease-out;
        }
        
        .search-box {
            position: relative;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease-out;
        }
        
        .search-box input {
            width: 100%;
            padding: 1.2rem 1.2rem 1.2rem 3.5rem;
            border: 2px solid var(--primary-dark);
            border-radius: 8px;
            font-size: 1.1rem;
            font-family: 'Lora', serif;
            background-color: white;
            box-shadow: 0 4px 12px var(--shadow-light);
            transition: all 0.3s;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }
        
        .search-icon {
            position: absolute;
            left: 1.2rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-dark);
            font-size: 1.2rem;
        }
        
        .search-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-family: 'Open Sans', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background-color: var(--accent-blue);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2471a3;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px var(--shadow-dark);
        }
        
        .btn-secondary {
            background-color: var(--accent-gold);
            color: var(--primary-dark);
        }
        
        .btn-secondary:hover {
            background-color: #c19b2e;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px var(--shadow-dark);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary-dark);
            color: var(--primary-dark);
        }
        
        .btn-outline:hover {
            background-color: var(--primary-dark);
            color: white;
            transform: translateY(-2px);
        }
        
        .system-features {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
            animation: fadeInUp 1.3s ease-out;
        }
        
        .feature {
            background-color: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px var(--shadow-light);
            flex: 1;
            min-width: 150px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .feature:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px var(--shadow-dark);
        }
        
        .feature-icon {
            font-size: 2rem;
            margin-bottom: 0.8rem;
            color: var(--accent-gold);
        }
        
        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            animation: fadeInUp 1.1s ease-out;
        }
        
        .results-count {
            font-family: 'Cinzel', serif;
            font-size: 1.2rem;
            color: var(--primary-dark);
        }
        
        .view-toggle {
            display: flex;
            background-color: white;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 2px 6px var(--shadow-light);
        }
        
        .view-btn {
            padding: 0.5rem 1rem;
            background-color: transparent;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .view-btn.active {
            background-color: var(--primary-dark);
            color: white;
        }
        
        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .document-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px var(--shadow-light);
            transition: all 0.3s;
            animation: fadeInUp 0.8s ease-out;
            opacity: 0;
            animation-fill-mode: forwards;
        }
        
        .document-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px var(--shadow-dark);
        }
        
        .document-header {
            background-color: var(--primary-dark);
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .document-type {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }
        
        .document-date {
            font-family: 'Cinzel', serif;
            color: var(--accent-gold);
        }
        
        .document-body {
            padding: 1.5rem;
            background-color: var(--paper-yellow);
            position: relative;
            min-height: 200px;
        }
        
        .document-body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(90deg, transparent 95%, rgba(0,0,0,0.05) 100%),
                linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px);
            background-size: 100% 100%, 20px 20px;
            pointer-events: none;
        }
        
        .document-title {
            font-family: 'Lora', serif;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--primary-dark);
            font-size: 1.2rem;
        }
        
        .document-content {
            margin-bottom: 1rem;
            max-height: 150px;
            overflow: hidden;
            position: relative;
        }
        
        .document-content::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 30px;
            background: linear-gradient(to bottom, transparent, var(--paper-yellow));
        }
        
        .document-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background-color: white;
            border-top: 1px solid #eee;
        }
        
        .document-entities {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .entity-tag {
            background-color: #e8f4fc;
            color: var(--accent-blue);
            padding: 0.3rem 0.6rem;
            border-radius: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .entity-tag.person {
            background-color: #f0f8e8;
            color: var(--accent-green);
        }
        
        .entity-tag.place {
            background-color: #f8f0e8;
            color: var(--accent-red);
        }
        
        .entity-tag.event {
            background-color: #f0e8f8;
            color: #8e44ad;
        }
        
        .timeline-view {
            display: none;
            animation: fadeIn 1s ease-out;
        }
        
        .timeline-container {
            position: relative;
            padding: 2rem 0;
        }
        
        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: var(--accent-gold);
            transform: translateX(-50%);
        }
        
        .timeline-item {
            display: flex;
            margin-bottom: 2rem;
            position: relative;
            width: 50%;
            animation: slideInRight 0.8s ease-out;
            opacity: 0;
            animation-fill-mode: forwards;
        }
        
        .timeline-item:nth-child(odd) {
            margin-left: 0;
            margin-right: auto;
            padding-right: 3rem;
        }
        
        .timeline-item:nth-child(even) {
            margin-left: auto;
            margin-right: 0;
            padding-left: 3rem;
        }
        
        .timeline-item:nth-child(even) .timeline-content {
            text-align: left;
        }
        
        .timeline-marker {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--accent-gold);
            top: 0;
        }
        
        .timeline-item:nth-child(odd) .timeline-marker {
            right: -12px;
        }
        
        .timeline-item:nth-child(even) .timeline-marker {
            left: -8px;
        }
        
        .timeline-content {
            background-color: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 12px var(--shadow-light);
            width: 100%;
        }
        
        .timeline-date {
            font-family: 'Cinzel', serif;
            color: var(--accent-gold);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        
        .knowledge-graph-view {
            display: none;
            height: 500px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px var(--shadow-light);
            padding: 1.5rem;
            animation: fadeIn 1s ease-out;
            position: relative;
            overflow: hidden;
        }
        
        .graph-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .graph-node {
            position: absolute;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            box-shadow: 0 4px 12px var(--shadow-dark);
            cursor: pointer;
            transition: all 0.3s;
            animation: float 3s ease-in-out infinite;
        }
        
        .graph-node:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px var(--shadow-dark);
        }
        
        .graph-node.person {
            background-color: var(--accent-green);
        }
        
        .graph-node.place {
            background-color: var(--accent-red);
        }
        
        .graph-node.event {
            background-color: var(--accent-blue);
        }
        
        .graph-node.document {
            background-color: var(--accent-gold);
            color: var(--primary-dark);
        }
        
        .graph-connection {
            position: absolute;
            height: 2px;
            background-color: rgba(0, 0, 0, 0.2);
            transform-origin: 0 0;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
            font-size: 1.2rem;
            color: var(--primary-dark);
        }
        
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--accent-gold);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        /* Upload Page */
        .upload-page {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .upload-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 12px var(--shadow-light);
            animation: fadeInUp 1s ease-out;
        }
        
        .upload-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .upload-header h1 {
            font-family: 'Cinzel', serif;
            color: var(--primary-dark);
            margin-bottom: 1rem;
        }
        
        .upload-zone {
            border: 3px dashed var(--accent-gold);
            border-radius: 10px;
            padding: 3rem;
            text-align: center;
            margin-bottom: 2rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upload-zone:hover {
            background-color: var(--paper-yellow);
            border-color: var(--accent-blue);
        }
        
        .upload-zone i {
            font-size: 4rem;
            color: var(--accent-gold);
            margin-bottom: 1rem;
        }
        
        .upload-zone h3 {
            font-family: 'Cinzel', serif;
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
        }
        
        .upload-progress {
            display: none;
            margin-bottom: 2rem;
        }
        
        .progress-bar {
            height: 20px;
            background-color: #eee;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--accent-green);
            width: 0%;
            transition: width 0.3s;
        }
        
        .upload-options {
            background-color: var(--paper-yellow);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        
        .upload-options h3 {
            font-family: 'Cinzel', serif;
            color: var(--primary-dark);
            margin-bottom: 1rem;
        }
        
        .option-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .option-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* Analytics Page */
        .analytics-page {
            padding: 2rem;
        }
        
        .analytics-header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInUp 1s ease-out;
        }
        
        .analytics-header h1 {
            font-family: 'Cinzel', serif;
            font-size: 2.5rem;
            color: var(--primary-dark);
            margin-bottom: 1rem;
        }
        
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .analytics-card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 12px var(--shadow-light);
            animation: fadeInUp 1.2s ease-out;
        }
        
        .analytics-card h3 {
            font-family: 'Cinzel', serif;
            color: var(--primary-dark);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--accent-gold);
            padding-bottom: 0.5rem;
        }
        
        .chart-container {
            height: 300px;
            position: relative;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th {
            background-color: var(--primary-dark);
            color: white;
            padding: 1rem;
            text-align: left;
        }
        
        .data-table td {
            padding: 0.8rem 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .data-table tr:hover {
            background-color: var(--paper-yellow);
        }
        
        /* Settings Page */
        .settings-page {
            padding: 2rem;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .settings-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 12px var(--shadow-light);
            animation: fadeInUp 1s ease-out;
        }
        
        .settings-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid #eee;
            padding-bottom: 1rem;
        }
        
        .settings-tab {
            padding: 0.8rem 1.5rem;
            background: none;
            border: none;
            font-family: 'Open Sans', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 5px;
        }
        
        .settings-tab.active {
            background-color: var(--primary-dark);
            color: white;
        }
        
        .settings-content {
            display: none;
        }
        
        .settings-content.active {
            display: block;
        }
        
        .settings-group {
            margin-bottom: 2rem;
        }
        
        .settings-group h3 {
            font-family: 'Cinzel', serif;
            color: var(--primary-dark);
            margin-bottom: 1rem;
        }
        
        .settings-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background-color: var(--paper-yellow);
            border-radius: 5px;
            margin-bottom: 1rem;
        }
        
        .toggle-switch {
            position: relative;
            width: 60px;
            height: 30px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: var(--accent-green);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(30px);
        }
        
        /* Footer */
        .footer {
            background-color: var(--primary-dark);
            color: var(--text-light);
            padding: 2rem;
            text-align: center;
            animation: fadeInUp 1.5s ease-out;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
        }
        
        .footer-link {
            color: var(--accent-gold);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-link:hover {
            color: white;
            text-decoration: underline;
        }
        
        /* Notification System */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--primary-dark);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 12px var(--shadow-dark);
            z-index: 1000;
            animation: slideInRight 0.5s ease-out;
            max-width: 400px;
            border-left: 4px solid var(--accent-gold);
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .notification i {
            color: var(--accent-gold);
        }
        
        .notification.success {
            border-left-color: var(--accent-green);
        }
        
        .notification.error {
            border-left-color: var(--accent-red);
        }
        
        .notification.warning {
            border-left-color: var(--accent-gold);
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes fadeInDown {
            from { 
                opacity: 0; 
                transform: translateY(-30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        @keyframes slideInLeft {
            from { 
                opacity: 0; 
                transform: translateX(-30px); 
            }
            to { 
                opacity: 1; 
                transform: translateX(0); 
            }
        }
        
        @keyframes slideInRight {
            from { 
                opacity: 0; 
                transform: translateX(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateX(0); 
            }
        }
        
        @keyframes slideDown {
            from { 
                opacity: 0; 
                transform: translateY(-100%); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes progressBar {
            from { width: 0%; }
            to { width: 100%; }
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .search-page {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                order: 2;
            }
            
            .search-container {
                order: 1;
            }
            
            .results-container {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
            
            .nav-links {
                gap: 1rem;
            }
        }
        
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                padding: 1rem;
            }
            
            .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                margin-top: 1rem;
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .mobile-menu-btn {
                display: block;
                position: absolute;
                right: 1rem;
                top: 1rem;
            }
            
            .logo {
                width: 100%;
                justify-content: center;
            }
            
            .results-container {
                grid-template-columns: 1fr;
            }
            
            .feature {
                min-width: 120px;
            }
            
            .system-features {
                justify-content: center;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
            
            .search-buttons {
                flex-direction: column;
            }
            
            .dashboard-stats, .quick-actions, .analytics-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Page Transitions */
        .page {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }
        
        .page.active {
            display: block;
        }
        
        /* Running Features Animation */
        .running-feature {
            position: relative;
            overflow: hidden;
        }
        
        .running-feature::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shine 2s infinite;
        }
        
        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        /* OCR Processing Animation */
        .ocr-processing {
            position: relative;
        }
        
        .ocr-processing::before {
            content: 'OCR Processing...';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 1rem 2rem;
            border-radius: 5px;
            z-index: 10;
            animation: pulse 1s infinite;
        }
        
        /* ScaleDown Animation */
        .scaledown-animation {
            transition: all 0.5s ease;
            max-height: 500px;
            overflow: hidden;
        }
        
        .scaledown-animation.compressed {
            max-height: 100px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <a href="#" class="logo" onclick="showPage('dashboard')">
            <i class="fas fa-archive"></i>
            Historical Archive System
        </a>
        
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
            <i class="fas fa-bars"></i>
        </button>
        
        <ul class="nav-links">
            <li><a href="#" class="nav-link active" onclick="showPage('dashboard')"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="#" class="nav-link" onclick="showPage('search')"><i class="fas fa-search"></i> Search</a></li>
            <li><a href="#" class="nav-link" onclick="showPage('upload')"><i class="fas fa-upload"></i> Upload</a></li>
            <li><a href="#" class="nav-link" onclick="showPage('analytics')"><i class="fas fa-chart-bar"></i> Analytics</a></li>
            <li><a href="#" class="nav-link" onclick="showPage('settings')"><i class="fas fa-cog"></i> Settings</a></li>
        </ul>
    </nav>

    <!-- Main Content Container -->
    <div class="main-content">
        <!-- Dashboard Page -->
        <div class="page active" id="dashboard">
            <div class="dashboard">
                <div class="dashboard-header">
                    <h1>Historical Archive Search System</h1>
                    <p>AI-powered document retrieval platform with OCR, RAG, and knowledge graph capabilities</p>
                </div>
                
                <div class="dashboard-stats">
                    <div class="stat-card" onclick="showPage('search')">
                        <div class="stat-icon" style="background-color: var(--accent-blue);">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalDocuments">1,247,892</h3>
                            <p>Documents Processed</p>
                        </div>
                    </div>
                    
                    <div class="stat-card" onclick="showPage('search')">
                        <div class="stat-icon" style="background-color: var(--accent-green);">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalSearches">24,891</h3>
                            <p>Search Queries Today</p>
                        </div>
                    </div>
                    
                    <div class="stat-card" onclick="showPage('upload')">
                        <div class="stat-icon" style="background-color: var(--accent-gold);">
                            <i class="fas fa-upload"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="uploadsToday">187</h3>
                            <p>Uploads Today</p>
                        </div>
                    </div>
                    
                    <div class="stat-card" onclick="showPage('analytics')">
                        <div class="stat-icon" style="background-color: var(--accent-red);">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-info">
                            <h3>99.2%</h3>
                            <p>OCR Accuracy Rate</p>
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <div class="action-card" onclick="showPage('search')">
                        <div class="action-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>Search Archives</h3>
                        <p>Semantic search across millions of historical documents</p>
                    </div>
                    
                    <div class="action-card" onclick="showPage('upload')">
                        <div class="action-icon">
                            <i class="fas fa-upload"></i>
                        </div>
                        <h3>Upload Documents</h3>
                        <p>Add new historical documents with AI processing</p>
                    </div>
                    
                    <div class="action-card" onclick="runOCRProcessing()">
                        <div class="action-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <h3>Run OCR Processing</h3>
                        <p>Process scanned documents with AI-powered OCR</p>
                    </div>
                    
                    <div class="action-card" onclick="buildKnowledgeGraph()">
                        <div class="action-icon">
                            <i class="fas fa-project-diagram"></i>
                        </div>
                        <h3>Build Knowledge Graph</h3>
                        <p>Generate entity relationships from documents</p>
                    </div>
                </div>
                
                <div class="recent-activity">
                    <h2>Recent Activity</h2>
                    <ul class="activity-list" id="activityList">
                        <!-- Activity items will be added here -->
                    </ul>
                </div>
            </div>
        </div>

        <!-- Search Page -->
        <div class="page" id="search">
            <div class="search-page">
                <aside class="sidebar">
                    <h3><i class="fas fa-filter"></i> Search Filters</h3>
                    
                    <div class="filter-section">
                        <div class="filter-title" onclick="toggleFilter('timeFilter')">
                            <span><i class="fas fa-calendar-alt"></i> Time Period</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="filter-options" id="timeFilter">
                            <div class="range-slider">
                                <input type="range" id="yearRange" min="1600" max="1950" value="1800" class="slider">
                                <div class="range-values">
                                    <span>1600</span>
                                    <span id="selectedYear">1800</span>
                                    <span>1950</span>
                                </div>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="century18" checked>
                                <label for="century18">18th Century (1700-1799)</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="century19" checked>
                                <label for="century19">19th Century (1800-1899)</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="century20">
                                <label for="century20">20th Century (1900-1999)</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="filter-section">
                        <div class="filter-title" onclick="toggleFilter('docFilter')">
                            <span><i class="fas fa-file-alt"></i> Document Type</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="filter-options" id="docFilter">
                            <div class="filter-option">
                                <input type="checkbox" id="typeLetters" checked>
                                <label for="typeLetters">Letters & Correspondence</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="typeNewspapers" checked>
                                <label for="typeNewspapers">Newspapers</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="typeManuscripts">
                                <label for="typeManuscripts">Manuscripts</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="typeOfficial">
                                <label for="typeOfficial">Official Records</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="filter-section">
                        <div class="filter-title" onclick="toggleFilter('aiFilter')">
                            <span><i class="fas fa-brain"></i> AI Features</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="filter-options" id="aiFilter">
                            <div class="filter-option">
                                <input type="checkbox" id="scaleDown" checked>
                                <label for="scaleDown">ScaleDown Compression</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="contextRestore" checked>
                                <label for="contextRestore">Context Restoration</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="handwritingOCR" checked>
                                <label for="handwritingOCR">Handwriting OCR</label>
                            </div>
                            <div class="filter-option">
                                <input type="checkbox" id="entityExtraction" checked>
                                <label for="entityExtraction">Entity Extraction</label>
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn btn-secondary" style="width: 100%; margin-top: 2rem;" onclick="applyFilters()">
                        <i class="fas fa-search"></i> Apply Filters
                    </button>
                    
                    <button class="btn btn-outline" style="width: 100%; margin-top: 1rem;" onclick="resetFilters()">
                        <i class="fas fa-redo"></i> Reset Filters
                    </button>
                </aside>
                
                <main class="search-container">
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="searchInput" placeholder="Search historical documents... (e.g., 'letters about famine in Ireland 1845-1852')" onkeyup="if(event.key === 'Enter') performSearch()">
                        <div class="search-buttons">
                            <button class="btn btn-primary" onclick="performSearch()">
                                <i class="fas fa-search"></i> Semantic Search
                            </button>
                            <button class="btn btn-secondary" onclick="showSampleQuery()">
                                <i class="fas fa-lightbulb"></i> Sample Query
                            </button>
                            <button class="btn btn-outline" onclick="clearSearch()">
                                <i class="fas fa-times"></i> Clear
                            </button>
                        </div>
                    </div>
                    
                    <div class="system-features">
                        <div class="feature">
                            <div class="feature-icon"><i class="fas fa-search"></i></div>
                            <div>Semantic Search</div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon"><i class="fas fa-hand-paper"></i></div>
                            <div>Handwriting OCR</div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon"><i class="fas fa-brain"></i></div>
                            <div>Context Restoration</div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon"><i class="fas fa-compress-arrows-alt"></i></div>
                            <div>ScaleDown Compression</div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon"><i class="fas fa-project-diagram"></i></div>
                            <div>Knowledge Graph</div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon"><i class="fas fa-citation"></i></div>
                            <div>Citation-Backed Answers</div>
                        </div>
                    </div>
                    
                    <div class="results-header">
                        <div class="results-count" id="resultsCount">Showing 6 historical documents</div>
                        <div class="view-toggle">
                            <button class="view-btn active" onclick="switchView('grid')">
                                <i class="fas fa-th-large"></i> Grid
                            </button>
                            <button class="view-btn" onclick="switchView('timeline')">
                                <i class="fas fa-stream"></i> Timeline
                            </button>
                            <button class="view-btn" onclick="switchView('graph')">
                                <i class="fas fa-project-diagram"></i> Graph
                            </button>
                        </div>
                    </div>
                    
                    <div class="loading" id="loading">
                        <div class="loading-spinner"></div>
                        <p>Searching historical archives...<br>
                        <small>Applying OCR, ScaleDown compression, and semantic analysis</small></p>
                    </div>
                    
                    <div class="results-container" id="gridView">
                        <!-- Document cards will be dynamically generated here -->
                    </div>
                    
                    <div class="timeline-view" id="timelineView">
                        <div class="timeline-container">
                            <div class="timeline-line"></div>
                            <!-- Timeline items will be dynamically generated here -->
                        </div>
                    </div>
                    
                    <div class="knowledge-graph-view" id="graphView">
                        <h3 style="margin-bottom: 1rem; color: var(--primary-dark);">Knowledge Graph: Relationships in Historical Documents</h3>
                        <div class="graph-container" id="graphContainer">
                            <!-- Knowledge graph will be dynamically generated here -->
                        </div>
                    </div>
                </main>
            </div>
        </div>

        <!-- Upload Page -->
        <div class="page" id="upload">
            <div class="upload-page">
                <div class="upload-container">
                    <div class="upload-header">
                        <h1>Upload Historical Documents</h1>
                        <p>Upload scanned documents for AI processing, OCR, and indexing</p>
                    </div>
                    
                    <div class="upload-zone" id="uploadZone" onclick="triggerFileUpload()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <h3>Drag & Drop or Click to Upload</h3>
                        <p>Supports: JPG, PNG, PDF, TIFF (Max 100MB per file)</p>
                        <input type="file" id="fileInput" multiple style="display: none;" onchange="handleFileUpload(event)">
                    </div>
                    
                    <div class="upload-progress" id="uploadProgress">
                        <h3>Processing Files</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <p id="progressText">Initializing OCR processing...</p>
                        <div id="fileList"></div>
                    </div>
                    
                    <div class="upload-options">
                        <h3>Processing Options</h3>
                        <div class="option-group">
                            <div class="option-item">
                                <input type="checkbox" id="ocrProcessing" checked>
                                <label for="ocrProcessing">OCR Text Extraction</label>
                            </div>
                            <div class="option-item">
                                <input type="checkbox" id="handwritingDetect" checked>
                                <label for="handwritingDetect">Handwriting Detection</label>
                            </div>
                            <div class="option-item">
                                <input type="checkbox" id="contextRestoration" checked>
                                <label for="contextRestoration">Context Restoration</label>
                            </div>
                        </div>
                        <div class="option-group">
                            <div class="option-item">
                                <input type="checkbox" id="entityExtract" checked>
                                <label for="entityExtract">Entity Extraction</label>
                            </div>
                            <div class="option-item">
                                <input type="checkbox" id="scaledownCompress" checked>
                                <label for="scaledownCompress">ScaleDown Compression</label>
                            </div>
                            <div class="option-item">
                                <input type="checkbox" id="addToGraph" checked>
                                <label for="addToGraph">Add to Knowledge Graph</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="search-buttons">
                        <button class="btn btn-primary" onclick="startBatchProcessing()">
                            <i class="fas fa-play"></i> Start Processing
                        </button>
                        <button class="btn btn-outline" onclick="clearUploads()">
                            <i class="fas fa-trash"></i> Clear Queue
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Page -->
        <div class="page" id="analytics">
            <div class="analytics-page">
                <div class="analytics-header">
                    <h1>System Analytics & Insights</h1>
                    <p>Monitor system performance, usage statistics, and AI model accuracy</p>
                </div>
                
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>Search Volume Trends</h3>
                        <div class="chart-container" id="searchChart">
                            <canvas id="searchTrendsChart" style="width: 100%; height: 100%;"></canvas>
                        </div>
                    </div>
                    
                    <div class="analytics-card">
                        <h3>Document Types Distribution</h3>
                        <div class="chart-container" id="docChart">
                            <canvas id="documentTypesChart" style="width: 100%; height: 100%;"></canvas>
                        </div>
                    </div>
                    
                    <div class="analytics-card">
                        <h3>OCR Accuracy Metrics</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Document Type</th>
                                    <th>Accuracy</th>
                                    <th>Processed</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Printed Newspapers</td>
                                    <td>99.5%</td>
                                    <td>245,789</td>
                                </tr>
                                <tr>
                                    <td>Handwritten Letters</td>
                                    <td>97.8%</td>
                                    <td>189,432</td>
                                </tr>
                                <tr>
                                    <td>Official Records</td>
                                    <td>98.9%</td>
                                    <td>156,234</td>
                                </tr>
                                <tr>
                                    <td>Manuscripts</td>
                                    <td>96.2%</td>
                                    <td>89,123</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="analytics-card">
                        <h3>System Performance</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Average Search Time</td>
                                    <td>0.87s</td>
                                    <td><span style="color: var(--accent-green);"> Excellent</span></td>
                                </tr>
                                <tr>
                                    <td>OCR Processing Speed</td>
                                    <td>12.4 docs/sec</td>
                                    <td><span style="color: var(--accent-green);"> Good</span></td>
                                </tr>
                                <tr>
                                    <td>System Uptime</td>
                                    <td>99.98%</td>
                                    <td><span style="color: var(--accent-green);"> Excellent</span></td>
                                </tr>
                                <tr>
                                    <td>Storage Usage</td>
                                    <td>78.3%</td>
                                    <td><span style="color: var(--accent-gold);"> Warning</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="analytics-card">
                        <h3>Top Search Queries</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Query</th>
                                    <th>Frequency</th>
                                    <th>Success Rate</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>World War I letters</td>
                                    <td>1,245</td>
                                    <td>94.2%</td>
                                </tr>
                                <tr>
                                    <td>Industrial Revolution</td>
                                    <td>987</td>
                                    <td>96.7%</td>
                                </tr>
                                <tr>
                                    <td>Civil Rights Movement</td>
                                    <td>876</td>
                                    <td>92.4%</td>
                                </tr>
                                <tr>
                                    <td>Irish Famine documents</td>
                                    <td>654</td>
                                    <td>89.8%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="analytics-card">
                        <h3>User Activity</h3>
                        <div class="chart-container" id="userChart">
                            <canvas id="userActivityChart" style="width: 100%; height: 100%;"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Page -->
        <div class="page" id="settings">
            <div class="settings-page">
                <div class="settings-container">
                    <div class="settings-tabs">
                        <button class="settings-tab active" onclick="showSettingsTab('general')">General</button>
                        <button class="settings-tab" onclick="showSettingsTab('ai')">AI Settings</button>
                        <button class="settings-tab" onclick="showSettingsTab('storage')">Storage</button>
                        <button class="settings-tab" onclick="showSettingsTab('api')">API</button>
                    </div>
                    
                    <div class="settings-content active" id="generalSettings">
                        <div class="settings-group">
                            <h3>System Preferences</h3>
                            <div class="settings-item">
                                <div>
                                    <strong>Enable Real-time Processing</strong>
                                    <p>Process documents immediately upon upload</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>Enable Email Notifications</strong>
                                    <p>Receive alerts for processing completion</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>Automatic Backups</strong>
                                    <p>Create daily backups of processed documents</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="settings-group">
                            <h3>Display Settings</h3>
                            <div class="settings-item">
                                <div>
                                    <strong>Default View Mode</strong>
                                    <p>Choose the default view for search results</p>
                                </div>
                                <select style="padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc;">
                                    <option>Grid View</option>
                                    <option>Timeline View</option>
                                    <option>Graph View</option>
                                </select>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>Results per Page</strong>
                                    <p>Number of documents displayed per page</p>
                                </div>
                                <select style="padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc;">
                                    <option>10</option>
                                    <option selected>25</option>
                                    <option>50</option>
                                    <option>100</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-content" id="aiSettings">
                        <div class="settings-group">
                            <h3>OCR Processing</h3>
                            <div class="settings-item">
                                <div>
                                    <strong>Enable Handwriting Recognition</strong>
                                    <p>Use AI models for cursive and historical handwriting</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>Enable Context Restoration</strong>
                                    <p>AI-powered restoration of damaged or incomplete text</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>ScaleDown Compression Level</strong>
                                    <p>Adjust text compression for storage efficiency</p>
                                </div>
                                <select style="padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc;">
                                    <option>Low (20% compression)</option>
                                    <option selected>Medium (50% compression)</option>
                                    <option>High (80% compression)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="settings-group">
                            <h3>AI Model Settings</h3>
                            <div class="settings-item">
                                <div>
                                    <strong>Entity Extraction Model</strong>
                                    <p>Choose AI model for entity recognition</p>
                                </div>
                                <select style="padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc;">
                                    <option>BERT Historical (Default)</option>
                                    <option>RoBERTa Large</option>
                                    <option>Custom Fine-tuned Model</option>
                                </select>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>Knowledge Graph Update Frequency</strong>
                                    <p>How often to rebuild entity relationships</p>
                                </div>
                                <select style="padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc;">
                                    <option>Real-time</option>
                                    <option selected>Hourly</option>
                                    <option>Daily</option>
                                    <option>Weekly</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-content" id="storageSettings">
                        <div class="settings-group">
                            <h3>Storage Configuration</h3>
                            <div class="settings-item">
                                <div>
                                    <strong>Total Storage Used</strong>
                                    <p>2.4 TB / 5 TB (48% used)</p>
                                </div>
                                <div style="width: 200px; height: 10px; background: #eee; border-radius: 5px; overflow: hidden;">
                                    <div style="width: 48%; height: 100%; background: var(--accent-blue);"></div>
                                </div>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>Vector Database Storage</strong>
                                    <p>896 GB / 2 TB (44.8% used)</p>
                                </div>
                                <div style="width: 200px; height: 10px; background: #eee; border-radius: 5px; overflow: hidden;">
                                    <div style="width: 44.8%; height: 100%; background: var(--accent-green);"></div>
                                </div>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>Original Document Storage</strong>
                                    <p>1.2 TB / 2 TB (60% used)</p>
                                </div>
                                <div style="width: 200px; height: 10px; background: #eee; border-radius: 5px; overflow: hidden;">
                                    <div style="width: 60%; height: 100%; background: var(--accent-gold);"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-group">
                            <h3>Storage Management</h3>
                            <div class="settings-item">
                                <div>
                                    <strong>Auto-cleanup Old Versions</strong>
                                    <p>Automatically delete intermediate processing files after 30 days</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>Compress Original Scans</strong>
                                    <p>Apply lossless compression to original document scans</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-content" id="apiSettings">
                        <div class="settings-group">
                            <h3>API Configuration</h3>
                            <div class="settings-item">
                                <div>
                                    <strong>API Status</strong>
                                    <p>REST API for external system integration</p>
                                </div>
                                <span style="color: var(--accent-green); font-weight: bold;"> Active</span>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>API Rate Limit</strong>
                                    <p>Maximum requests per minute per API key</p>
                                </div>
                                <select style="padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc;">
                                    <option>100 requests/min</option>
                                    <option selected>500 requests/min</option>
                                    <option>1000 requests/min</option>
                                    <option>Unlimited</option>
                                </select>
                            </div>
                            <div class="settings-item">
                                <div>
                                    <strong>Your API Key</strong>
                                    <p>Use this key for external integrations</p>
                                </div>
                                <code style="background: #f5f5f5; padding: 0.5rem; border-radius: 5px; font-family: monospace;">sk_hist_archive_7f9e3b2a1c5d8</code>
                            </div>
                        </div>
                        
                        <div class="settings-group">
                            <h3>Webhook Settings</h3>
                            <div class="settings-item">
                                <div>
                                    <strong>Webhook URL</strong>
                                    <p>Receive notifications when processing completes</p>
                                </div>
                                <input type="text" placeholder="https://your-domain.com/webhook" style="padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc; width: 300px;">
                            </div>
                        </div>
                    </div>
                    
                    <div class="search-buttons" style="margin-top: 2rem;">
                        <button class="btn btn-primary" onclick="saveSettings()">
                            <i class="fas fa-save"></i> Save Settings
                        </button>
                        <button class="btn btn-outline" onclick="resetSettings()">
                            <i class="fas fa-undo"></i> Reset to Defaults
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>Historical Archive Search System  2023 | RAG-Based Intelligent Document Retrieval Platform</p>
        <div class="footer-links">
            <a href="#" class="footer-link">Documentation</a>
            <a href="#" class="footer-link">API Integration</a>
            <a href="#" class="footer-link">Privacy Policy</a>
            <a href="#" class="footer-link">Contact Support</a>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // System Data and State
        const systemState = {
            totalDocuments: 1247892,
            totalSearches: 24891,
            uploadsToday: 187,
            recentActivities: [],
            uploadedFiles: [],
            currentPage: 'dashboard',
            searchResults: [],
            knowledgeGraph: null,
            settings: {
                general: {},
                ai: {},
                storage: {},
                api: {}
            }
        };

        // Sample document data
        const sampleDocuments = [
            {
                id: 1,
                title: "Letter regarding the Irish Famine",
                type: "letter",
                typeIcon: "fas fa-envelope",
                date: "1847",
                content: "My dearest Margaret, I write to you with a heavy heart. The situation here grows more dire with each passing day. The potato blight has destroyed nearly all crops in our parish, and starvation is widespread. Many families have already departed for America, hoping to find relief across the sea. The workhouses are overflowing, and the government's relief efforts remain insufficient...",
                entities: [
                    {type: "person", name: "Margaret"},
                    {type: "place", name: "Ireland"},
                    {type: "event", name: "Irish Famine"},
                    {type: "place", name: "America"}
                ],
                citation: "National Archives of Ireland, Document #1847-328A"
            },
            {
                id: 2,
                title: "Industrial Revolution Labor Conditions",
                type: "newspaper",
                typeIcon: "fas fa-newspaper",
                date: "1832",
                content: "The Manchester Guardian reports on the conditions in textile mills. Children as young as six are employed for fourteen-hour days, with minimal breaks and dangerous machinery. Several accidents have been reported this month alone, prompting calls for parliamentary intervention. The factory owners argue that such labor is necessary for the nation's economic prosperity...",
                entities: [
                    {type: "event", name: "Industrial Revolution"},
                    {type: "place", name: "Manchester"},
                    {type: "person", name: "Factory Owners"},
                    {type: "event", name: "Parliamentary Debate"}
                ],
                citation: "Manchester Guardian, April 15, 1832, p. 4"
            },
            {
                id: 3,
                title: "Declaration of Independence Draft Notes",
                type: "manuscript",
                typeIcon: "fas fa-scroll",
                date: "1776",
                content: "We hold these truths to be self-evident, that all men are created equal, that they are endowed by their Creator with certain unalienable Rights, that among these are Life, Liberty and the pursuit of Happiness. That to secure these rights, Governments are instituted among Men, deriving their just powers from the consent of the governed...",
                entities: [
                    {type: "event", name: "American Revolution"},
                    {type: "person", name: "Thomas Jefferson"},
                    {type: "event", name: "Declaration of Independence"},
                    {type: "place", name: "Philadelphia"}
                ],
                citation: "Library of Congress, Manuscript Division, Jefferson Papers"
            },
            {
                id: 4,
                title: "Women's Suffrage Movement Correspondence",
                type: "letter",
                typeIcon: "fas fa-envelope",
                date: "1908",
                content: "My dear suffragist sister, Our march yesterday was met with both support and hostility. While many women joined our ranks with banners held high, we faced considerable opposition from those who believe politics is no place for the fairer sex. The police were present in large numbers, and several arrests were made. Nevertheless, our resolve remains steadfast...",
                entities: [
                    {type: "event", name: "Women's Suffrage"},
                    {type: "person", name: "Emmeline Pankhurst"},
                    {type: "place", name: "London"},
                    {type: "event", name: "Political March"}
                ],
                citation: "Women's Library, London, Suffrage Correspondence #1908-42"
            },
            {
                id: 5,
                title: "World War I Soldier's Diary",
                type: "manuscript",
                typeIcon: "fas fa-book",
                date: "1916",
                content: "The trenches are filled with mud and despair. Yesterday we lost five men to sniper fire. The constant shelling has left us all with a permanent ringing in our ears. We received word that a truce may be negotiated for Christmas, but I dare not hope. The conditions here are beyond anything I could have imagined when I enlisted with such patriotic fervor...",
                entities: [
                    {type: "event", name: "World War I"},
                    {type: "place", name: "Western Front"},
                    {type: "event", name: "Christmas Truce"},
                    {type: "person", name: "British Soldier"}
                ],
                citation: "Imperial War Museum, Diary Collection, 1916-78-2"
            },
            {
                id: 6,
                title: "Civil Rights Movement Speech Draft",
                type: "manuscript",
                typeIcon: "fas fa-scroll",
                date: "1963",
                content: "I have a dream that one day this nation will rise up and live out the true meaning of its creed: 'We hold these truths to be self-evident, that all men are created equal.' I have a dream that one day on the red hills of Georgia, the sons of former slaves and the sons of former slave owners will be able to sit down together at the table of brotherhood...",
                entities: [
                    {type: "person", name: "Martin Luther King Jr."},
                    {type: "event", name: "Civil Rights Movement"},
                    {type: "place", name: "Washington D.C."},
                    {type: "event", name: "March on Washington"}
                ],
                citation: "King Center Archives, Speech Drafts, Box 45, Folder 12"
            }
        ];

        // Knowledge graph data
        const graphNodes = [
            {id: 1, type: "person", label: "Jefferson", x: 100, y: 150},
            {id: 2, type: "event", label: "Revolution", x: 250, y: 100},
            {id: 3, type: "document", label: "Declaration", x: 200, y: 250},
            {id: 4, type: "place", label: "Philadelphia", x: 350, y: 200},
            {id: 5, type: "person", label: "King", x: 500, y: 150},
            {id: 6, type: "event", label: "Civil Rights", x: 650, y: 100},
            {id: 7, type: "document", label: "Speech", x: 600, y: 250},
            {id: 8, type: "place", label: "Washington", x: 750, y: 200}
        ];

        const graphConnections = [
            {from: 1, to: 2},
            {from: 1, to: 3},
            {from: 2, to: 4},
            {from: 3, to: 4},
            {from: 5, to: 6},
            {from: 5, to: 7},
            {from: 6, to: 8},
            {from: 7, to: 8},
            {from: 2, to: 6}
        ];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
            initializeSearchPage();
            initializeUploadPage();
            initializeAnalyticsPage();
            initializeSettingsPage();
            
            // Set up event listeners
            document.getElementById('yearRange').addEventListener('input', updateYearDisplay);
            
            // Show welcome notification
            setTimeout(() => {
                showNotification("Welcome to the Historical Archive Search System! Explore millions of historical documents with AI-powered search.", "success");
                addActivity("System initialized", "System is ready for use");
            }, 1000);
            
            // Simulate real-time updates
            setInterval(updateLiveStats, 5000);
        });

        // Dashboard Functions
        function initializeDashboard() {
            updateDashboardStats();
            generateActivityFeed();
        }

        function updateDashboardStats() {
            document.getElementById('totalDocuments').textContent = systemState.totalDocuments.toLocaleString();
            document.getElementById('totalSearches').textContent = systemState.totalSearches.toLocaleString();
            document.getElementById('uploadsToday').textContent = systemState.uploadsToday.toLocaleString();
        }

        function generateActivityFeed() {
            const activities = [
                {time: "Just now", text: "System initialization completed", icon: "fas fa-check-circle"},
                {time: "5 minutes ago", text: "OCR processing completed for 15 new documents", icon: "fas fa-eye"},
                {time: "12 minutes ago", text: "Knowledge graph updated with 234 new entities", icon: "fas fa-project-diagram"},
                {time: "30 minutes ago", text: "User 'researcher_42' performed a complex semantic search", icon: "fas fa-search"},
                {time: "1 hour ago", text: "Batch upload of 45 historical letters completed", icon: "fas fa-upload"},
                {time: "2 hours ago", text: "System backup completed successfully", icon: "fas fa-save"}
            ];

            const container = document.getElementById('activityList');
            container.innerHTML = '';

            activities.forEach(activity => {
                const item = document.createElement('li');
                item.className = 'activity-item';
                item.innerHTML = `
                    <div class="activity-time">
                        <i class="${activity.icon}"></i>
                        ${activity.time}
                    </div>
                    <div>${activity.text}</div>
                `;
                container.appendChild(item);
            });
        }

        function addActivity(text, type = "info") {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const icons = {
                info: "fas fa-info-circle",
                success: "fas fa-check-circle",
                warning: "fas fa-exclamation-circle",
                error: "fas fa-times-circle"
            };

            const activity = {
                time: timeString,
                text: text,
                icon: icons[type] || icons.info
            };

            systemState.recentActivities.unshift(activity);
            
            // Update activity feed if on dashboard
            if (systemState.currentPage === 'dashboard') {
                generateActivityFeed();
            }
        }

        function updateLiveStats() {
            // Simulate live updates
            systemState.totalSearches += Math.floor(Math.random() * 10);
            systemState.uploadsToday += Math.floor(Math.random() * 3);
            
            if (systemState.currentPage === 'dashboard') {
                updateDashboardStats();
            }
        }

        // Page Navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Update navigation links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });

            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Update active nav link
            document.querySelector(`.nav-link[onclick*="${pageId}"]`).classList.add('active');
            
            // Update current page state
            systemState.currentPage = pageId;
            
            // Run page-specific initialization
            switch(pageId) {
                case 'search':
                    initializeSearchPage();
                    break;
                case 'analytics':
                    initializeAnalyticsPage();
                    break;
                case 'settings':
                    initializeSettingsPage();
                    break;
            }
            
            // Close mobile menu if open
            document.querySelector('.nav-links').classList.remove('active');
        }

        function toggleMobileMenu() {
            document.querySelector('.nav-links').classList.toggle('active');
        }

        // Search Page Functions
        function initializeSearchPage() {
            generateDocumentCards();
            generateTimeline();
            generateKnowledgeGraph();
            updateYearDisplay();
        }

        function generateDocumentCards() {
            const container = document.getElementById('gridView');
            container.innerHTML = '';
            
            sampleDocuments.forEach((doc, index) => {
                const entitiesHTML = doc.entities.map(entity => 
                    `<span class="entity-tag ${entity.type}">
                        <i class="fas fa-${entity.type === 'person' ? 'user' : entity.type === 'place' ? 'map-marker-alt' : 'calendar-alt'}"></i>
                        ${entity.name}
                    </span>`
                ).join('');
                
                const card = document.createElement('div');
                card.className = 'document-card';
                card.style.animationDelay = `${index * 0.1}s`;
                card.innerHTML = `
                    <div class="document-header">
                        <div class="document-type">
                            <i class="${doc.typeIcon}"></i>
                            ${doc.type.charAt(0).toUpperCase() + doc.type.slice(1)}
                        </div>
                        <div class="document-date">${doc.date}</div>
                    </div>
                    <div class="document-body">
                        <h4 class="document-title">${doc.title}</h4>
                        <div class="document-content">
                            ${doc.content}
                        </div>
                        <div class="document-entities">
                            ${entitiesHTML}
                        </div>
                    </div>
                    <div class="document-footer">
                        <small><i class="fas fa-quote-right"></i> ${doc.citation}</small>
                        <button class="btn btn-outline" style="padding: 0.3rem 0.8rem; font-size: 0.9rem;" onclick="viewDocument(${doc.id})">
                            <i class="fas fa-external-link-alt"></i> View
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function generateTimeline() {
            const container = document.querySelector('.timeline-container');
            // Clear existing timeline items except the line
            const timelineItems = container.querySelectorAll('.timeline-item');
            timelineItems.forEach(item => {
                if (!item.classList.contains('timeline-line')) {
                    item.remove();
                }
            });

            // Sort documents by date for timeline
            const sortedDocs = [...sampleDocuments].sort((a, b) => parseInt(a.date) - parseInt(b.date));
            
            sortedDocs.forEach((doc, index) => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';
                timelineItem.style.animationDelay = `${index * 0.1}s`;
                timelineItem.innerHTML = `
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">${doc.date}</div>
                        <h4>${doc.title}</h4>
                        <p>${doc.content.substring(0, 150)}...</p>
                        <small><i class="fas fa-quote-right"></i> ${doc.citation}</small>
                    </div>
                `;
                container.appendChild(timelineItem);
            });
        }

        function generateKnowledgeGraph() {
            const container = document.getElementById('graphContainer');
            container.innerHTML = '';

            // Create connections
            graphConnections.forEach(conn => {
                const fromNode = graphNodes.find(n => n.id === conn.from);
                const toNode = graphNodes.find(n => n.id === conn.to);
                
                if (fromNode && toNode) {
                    const dx = toNode.x - fromNode.x;
                    const dy = toNode.y - fromNode.y;
                    const length = Math.sqrt(dx * dx + dy * dy);
                    const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                    
                    const connection = document.createElement('div');
                    connection.className = 'graph-connection';
                    connection.style.width = `${length}px`;
                    connection.style.left = `${fromNode.x}px`;
                    connection.style.top = `${fromNode.y}px`;
                    connection.style.transform = `rotate(${angle}deg)`;
                    container.appendChild(connection);
                }
            });

            // Create nodes
            graphNodes.forEach(node => {
                const nodeEl = document.createElement('div');
                nodeEl.className = `graph-node ${node.type}`;
                nodeEl.style.left = `${node.x - 40}px`;
                nodeEl.style.top = `${node.y - 40}px`;
                nodeEl.style.animationDelay = `${node.id * 0.2}s`;
                nodeEl.textContent = node.label;
                nodeEl.onclick = () => showNodeDetails(node);
                container.appendChild(nodeEl);
            });
        }

        function switchView(viewType) {
            // Update active button
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Hide all views
            document.getElementById('gridView').style.display = 'none';
            document.getElementById('timelineView').style.display = 'none';
            document.getElementById('graphView').style.display = 'none';

            // Show selected view
            if (viewType === 'grid') {
                document.getElementById('gridView').style.display = 'grid';
            } else if (viewType === 'timeline') {
                document.getElementById('timelineView').style.display = 'block';
            } else if (viewType === 'graph') {
                document.getElementById('graphView').style.display = 'block';
                // Animate graph nodes
                document.querySelectorAll('.graph-node').forEach((node, index) => {
                    node.style.animation = `float 3s ease-in-out ${index * 0.2}s infinite`;
                });
            }
        }

        function performSearch() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) {
                showNotification("Please enter a search query first.", "warning");
                return;
            }

            // Show loading animation
            document.getElementById('loading').style.display = 'block';
            document.getElementById('gridView').style.display = 'none';
            document.getElementById('timelineView').style.display = 'none';
            document.getElementById('graphView').style.display = 'none';

            // Simulate search delay with progress
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 10;
                if (progress >= 100) {
                    clearInterval(progressInterval);
                    
                    // Hide loading
                    document.getElementById('loading').style.display = 'none';
                    
                    // Show grid view by default
                    document.getElementById('gridView').style.display = 'grid';
                    
                    // Update results count with a simulated number
                    const simulatedCount = Math.floor(Math.random() * 200) + 50;
                    document.getElementById('resultsCount').textContent = `Found ${simulatedCount} documents for "${query}"`;
                    
                    // Show notification about AI processing
                    showNotification(`Search complete! Applied OCR, ScaleDown compression, and semantic analysis to ${simulatedCount} documents.`, "success");
                    
                    // Add activity
                    addActivity(`Search performed: "${query}" found ${simulatedCount} documents`);
                    
                    // Highlight search terms in results (simulated)
                    highlightSearchTerms(query);
                }
            }, 100);
        }

        function showSampleQuery() {
            const sampleQueries = [
                "Letters about famine in Ireland 1845-1852",
                "Industrial Revolution working conditions",
                "Women's suffrage movement correspondence",
                "World War I soldier diaries",
                "Civil rights movement speeches 1963"
            ];
            const randomQuery = sampleQueries[Math.floor(Math.random() * sampleQueries.length)];
            document.getElementById('searchInput').value = randomQuery;
            document.getElementById('searchInput').focus();
            
            // Animate the search box
            const searchBox = document.querySelector('.search-box input');
            searchBox.style.animation = 'pulse 1s';
            setTimeout(() => {
                searchBox.style.animation = '';
            }, 1000);
        }

        function clearSearch() {
            document.getElementById('searchInput').value = '';
            document.getElementById('resultsCount').textContent = 'Showing 6 historical documents';
            generateDocumentCards();
            showNotification("Search cleared. Showing all sample documents.", "info");
        }

        function viewDocument(id) {
            const doc = sampleDocuments.find(d => d.id === id);
            if (doc) {
                showNotification(`Viewing "${doc.title}" from ${doc.date}. Citation: ${doc.citation}`, "info");
                
                // Simulate opening document viewer
                const card = document.querySelector(`.document-card:nth-child(${id})`);
                card.style.animation = 'pulse 1s';
                setTimeout(() => {
                    card.style.animation = '';
                }, 1000);
            }
        }

        function showNodeDetails(node) {
            const entityTypes = {
                person: "Historical Figure",
                place: "Geographical Location",
                event: "Historical Event",
                document: "Archival Document"
            };
            
            showNotification(`Selected: ${entityTypes[node.type]} - "${node.label}". Click connections to explore relationships.`, "info");
            
            // Highlight the clicked node
            document.querySelectorAll('.graph-node').forEach(n => {
                n.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.2)';
            });
            
            const clickedNode = document.querySelectorAll('.graph-node')[node.id - 1];
            clickedNode.style.boxShadow = '0 0 0 3px rgba(212, 175, 55, 0.8), 0 6px 20px rgba(0, 0, 0, 0.3)';
            clickedNode.style.zIndex = '10';
            
            setTimeout(() => {
                clickedNode.style.boxShadow = '0 6px 16px rgba(0, 0, 0, 0.3)';
                clickedNode.style.zIndex = '';
            }, 2000);
        }

        function toggleFilter(filterId) {
            const filter = document.getElementById(filterId);
            const icon = filter.previousElementSibling.querySelector('.fa-chevron-down');
            
            filter.classList.toggle('collapsed');
            
            if (filter.classList.contains('collapsed')) {
                icon.classList.replace('fa-chevron-down', 'fa-chevron-right');
            } else {
                icon.classList.replace('fa-chevron-right', 'fa-chevron-down');
            }
        }

        function applyFilters() {
            const year = document.getElementById('yearRange').value;
            const scaleDown = document.getElementById('scaleDown').checked;
            const contextRestore = document.getElementById('contextRestore').checked;
            
            let message = `Applied filters: Documents around ${year}`;
            if (scaleDown) message += `, ScaleDown compression`;
            if (contextRestore) message += `, Context restoration`;
            
            showNotification(message, "success");
            
            // Simulate filter application with animation
            document.querySelectorAll('.document-card').forEach(card => {
                card.style.opacity = '0.5';
                card.style.transform = 'scale(0.95)';
            });
            
            setTimeout(() => {
                document.querySelectorAll('.document-card').forEach(card => {
                    card.style.opacity = '1';
                    card.style.transform = 'scale(1)';
                });
            }, 500);
            
            addActivity("Search filters applied");
        }

        function resetFilters() {
            document.getElementById('yearRange').value = 1800;
            updateYearDisplay();
            
            // Check all checkboxes
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = true;
            });
            
            // Expand all filter sections
            document.querySelectorAll('.filter-options').forEach(filter => {
                filter.classList.remove('collapsed');
                const icon = filter.previousElementSibling.querySelector('.fa-chevron-right');
                if (icon) {
                    icon.classList.replace('fa-chevron-right', 'fa-chevron-down');
                }
            });
            
            showNotification("All filters have been reset to default values.", "info");
        }

        function updateYearDisplay() {
            const year = document.getElementById('yearRange').value;
            document.getElementById('selectedYear').textContent = year;
        }

        // Upload Page Functions
        function initializeUploadPage() {
            // Initialize drag and drop
            const uploadZone = document.getElementById('uploadZone');
            uploadZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadZone.style.backgroundColor = 'var(--paper-yellow)';
                uploadZone.style.borderColor = 'var(--accent-blue)';
            });

            uploadZone.addEventListener('dragleave', () => {
                uploadZone.style.backgroundColor = '';
                uploadZone.style.borderColor = 'var(--accent-gold)';
            });

            uploadZone.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadZone.style.backgroundColor = '';
                uploadZone.style.borderColor = 'var(--accent-gold)';
                handleDroppedFiles(e.dataTransfer.files);
            });
        }

        function triggerFileUpload() {
            document.getElementById('fileInput').click();
        }

        function handleFileUpload(event) {
            const files = event.target.files;
            handleDroppedFiles(files);
        }

        function handleDroppedFiles(files) {
            systemState.uploadedFiles = Array.from(files);
            
            if (systemState.uploadedFiles.length > 0) {
                showNotification(`Added ${systemState.uploadedFiles.length} file(s) to upload queue`, "success");
                updateFileList();
            }
        }

        function updateFileList() {
            const fileList = document.getElementById('fileList');
            fileList.innerHTML = '';
            
            systemState.uploadedFiles.forEach((file, index) => {
                const fileItem = document.createElement('div');
                fileItem.className = 'settings-item';
                fileItem.innerHTML = `
                    <div>
                        <strong>${file.name}</strong>
                        <p>${(file.size / 1024 / 1024).toFixed(2)} MB</p>
                    </div>
                    <button class="btn btn-outline" style="padding: 0.3rem 0.8rem;" onclick="removeFile(${index})">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                fileList.appendChild(fileItem);
            });
        }

        function removeFile(index) {
            systemState.uploadedFiles.splice(index, 1);
            updateFileList();
            showNotification("File removed from upload queue", "info");
        }

        function startBatchProcessing() {
            if (systemState.uploadedFiles.length === 0) {
                showNotification("Please add files to upload first", "warning");
                return;
            }

            // Show progress bar
            const progressSection = document.getElementById('uploadProgress');
            progressSection.style.display = 'block';
            
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            
            // Simulate processing steps
            let progress = 0;
            const steps = [
                "Uploading files...",
                "Running OCR processing...",
                "Extracting text content...",
                "Applying ScaleDown compression...",
                "Extracting entities...",
                "Updating knowledge graph...",
                "Indexing documents...",
                "Finalizing..."
            ];
            
            let currentStep = 0;
            
            const processInterval = setInterval(() => {
                progress += 5;
                progressFill.style.width = `${progress}%`;
                
                if (progress % 15 === 0 && currentStep < steps.length) {
                    progressText.textContent = steps[currentStep];
                    currentStep++;
                }
                
                if (progress >= 100) {
                    clearInterval(processInterval);
                    progressText.textContent = "Processing complete!";
                    
                    // Update system stats
                    systemState.totalDocuments += systemState.uploadedFiles.length;
                    systemState.uploadsToday += systemState.uploadedFiles.length;
                    
                    // Show success message
                    showNotification(`Successfully processed ${systemState.uploadedFiles.length} document(s)`, "success");
                    
                    // Add activity
                    addActivity(`Batch processing completed for ${systemState.uploadedFiles.length} documents`);
                    
                    // Reset after delay
                    setTimeout(() => {
                        progressSection.style.display = 'none';
                        progressFill.style.width = '0%';
                        systemState.uploadedFiles = [];
                        updateFileList();
                    }, 3000);
                }
            }, 100);
        }

        function clearUploads() {
            systemState.uploadedFiles = [];
            updateFileList();
            showNotification("Upload queue cleared", "info");
        }

        // Analytics Page Functions
        function initializeAnalyticsPage() {
            // Initialize charts
            initializeSearchTrendsChart();
            initializeDocumentTypesChart();
            initializeUserActivityChart();
        }

        function initializeSearchTrendsChart() {
            const ctx = document.getElementById('searchTrendsChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                    datasets: [{
                        label: 'Search Queries',
                        data: [1200, 1900, 1500, 2500, 2200, 3000, 2800],
                        borderColor: 'var(--accent-blue)',
                        backgroundColor: 'rgba(41, 128, 185, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            }
                        }
                    }
                }
            });
        }

        function initializeDocumentTypesChart() {
            const ctx = document.getElementById('documentTypesChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Letters', 'Newspapers', 'Manuscripts', 'Official Records'],
                    datasets: [{
                        data: [35, 25, 20, 20],
                        backgroundColor: [
                            'var(--accent-blue)',
                            'var(--accent-green)',
                            'var(--accent-gold)',
                            'var(--accent-red)'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    }
                }
            });
        }

        function initializeUserActivityChart() {
            const ctx = document.getElementById('userActivityChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Researchers', 'Historians', 'Students', 'Public Users'],
                    datasets: [{
                        label: 'Daily Active Users',
                        data: [450, 320, 280, 150],
                        backgroundColor: [
                            'var(--accent-blue)',
                            'var(--accent-green)',
                            'var(--accent-gold)',
                            'var(--accent-red)'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            }
                        }
                    }
                }
            });
        }

        // Settings Page Functions
        function initializeSettingsPage() {
            // Nothing specific to initialize
        }

        function showSettingsTab(tabId) {
            // Hide all tabs
            document.querySelectorAll('.settings-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Update tab buttons
            document.querySelectorAll('.settings-tab').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(`${tabId}Settings`).classList.add('active');
            event.target.classList.add('active');
        }

        function saveSettings() {
            showNotification("Settings saved successfully", "success");
            addActivity("System settings updated");
        }

        function resetSettings() {
            if (confirm("Are you sure you want to reset all settings to default values?")) {
                showNotification("All settings have been reset to defaults", "success");
                addActivity("System settings reset to defaults");
            }
        }

        // Running Features
        function runOCRProcessing() {
            showNotification("Starting OCR processing on queued documents...", "info");
            
            // Simulate OCR processing
            setTimeout(() => {
                const processed = Math.floor(Math.random() * 20) + 5;
                showNotification(`OCR processing completed on ${processed} documents with 98.7% accuracy`, "success");
                addActivity(`OCR processing completed on ${processed} documents`);
            }, 2000);
        }

        function buildKnowledgeGraph() {
            showNotification("Building knowledge graph from extracted entities...", "info");
            
            // Simulate knowledge graph building
            let progress = 0;
            const notification = createProgressNotification("Building knowledge graph...");
            
            const interval = setInterval(() => {
                progress += 10;
                updateProgressNotification(notification, progress);
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        removeNotification(notification);
                        showNotification("Knowledge graph updated with 1,245 new entity relationships", "success");
                        addActivity("Knowledge graph rebuilt with new entities");
                    }, 500);
                }
            }, 200);
        }

        // Notification System
        function showNotification(message, type = "info") {
            // Remove any existing notification
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }

            // Create notification
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'times-circle' : type === 'warning' ? 'exclamation-circle' : 'info-circle'}"></i>
                <div>${message}</div>
            `;

            document.body.appendChild(notification);

            // Remove notification after 5 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'slideInRight 0.5s ease-out reverse';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 500);
                }
            }, 5000);
        }

        function createProgressNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <i class="fas fa-spinner fa-spin"></i>
                <div>
                    <div>${message}</div>
                    <div style="margin-top: 0.5rem; width: 200px; height: 5px; background: rgba(255,255,255,0.2); border-radius: 3px; overflow: hidden;">
                        <div class="progress-bar-fill" style="width: 0%; height: 100%; background: var(--accent-gold); transition: width 0.3s;"></div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(notification);
            return notification;
        }

        function updateProgressNotification(notification, progress) {
            const progressBar = notification.querySelector('.progress-bar-fill');
            if (progressBar) {
                progressBar.style.width = `${progress}%`;
            }
        }

        function removeNotification(notification) {
            if (notification && notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }

        // Utility Functions
        function highlightSearchTerms(query) {
            // In a real implementation, this would highlight the terms in the results
            // For this demo, we'll just animate the cards
            document.querySelectorAll('.document-card').forEach((card, index) => {
                card.style.animation = 'none';
                setTimeout(() => {
                    card.style.animation = `fadeInUp 0.8s ease-out ${index * 0.1}s forwards`;
                }, 10);
            });
        }

        // Add Chart.js library for analytics
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/chart.js';
        script.onload = function() {
            console.log('Chart.js loaded');
        };
        document.head.appendChild(script);
    </script>
</body>
</html>